{% extends 'base.html' %}

{% block title %}
Mass Import
{% endblock %}

{% block header %}
    <div class="row ml-4">
        <div class="col-md-11">
            <h1>Mass Import Tool</h1>
        </div>
    </div>
{% endblock %}

{% block content %}
    <br>
    <!-- File Upload -->
    <div id="fileform" class="row">
        <div class="col-md-8 offset-1">
            <h4>File Upload</h4>
            <br>
            <form action="">
                <label for="mifile">Select a file: </label>
                <input type="file" id="mifile" name="mifile"><br><br>
            </form>
            <button id="continue" style="display: none" class="btn btn-secondary">Continue?</button>
        </div>
    </div>
    <!-- Processing -->
    <div id="processing" style="display: none;">
        <!-- Instructions -->
        <div class="row">
            <div class="col-11 offset-1">
                <h4>Intructions:</h4>
                <p>The importer will prompt you asking for confirmation of parent area...</p>
            </div>
        </div>
        <hr>
        <div class="row">
            <!-- User Input -->
            <div class="col-5">
                <!-- Progress Bar -->
                <div class="row">
                    <div class="col-10 offset-2">
                        <div class="progress">
                            <div id="progressbar-c" class="progress-bar bg-success" role="progressbar"></div>
                            <div id="progressbar-valid" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"></div>
                            <div id="progressbar-in" class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar"></div>
                        </div>
                    </div>
                </div>
                <br>
                <!-- Buttons -->
                <div id="buttonsRow" class="row">
                    <div class="col-9 offset-3">
                        <button id="yesButton" class="btn btn-secondary" disabled>Yes</button>
                        <button id="noButton" class="btn btn-secondary" disabled>No</button>
                        <button id="skipButton" class="btn btn-secondary">Skip</button>
                    </div>
                </div>
                <br>
                <!-- IN Form -->
                <div class="row">
                    <div class="col-10 offset-2">
                        <h5>The form is down here!</h5>
                        <form action="">
                            <p>form stuff</p>
                            <p>more form stuff</p>
                            <p>whoa now theres even more!</p>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Status Table -->
            <div class="col-7">
                <!-- Current Entry -->
                <div id="dataRow" class="row">
                    <div class="col-10 offset-1">
                        <!-- Areas -->
                        <div class="row">
                            <div class="col-12">
                                <span class="h6">Area: </span><small id="areas"></small>
                            </div>
                        </div>
                        <!-- Climb -->
                        <div class="row">
                            <div class="col-12">
                                <span class="h5">Climb: </span>
                                <span id="climb"></span>
                                &nbsp;
                                <span id="grade"></span>
                                &nbsp;
                                <span id="danger"></span>
                                &nbsp;
                                <span id="quality"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
                <!-- Table -->
                <div class="row">
                    <div class="col-10 offset-1">
                        <!-- Legend -->
                        <div class="row">
                            <div class="col-3">
                                <span>Unprocessed: </span>
                                <span class="square"></span>
                            </div>
                            <div class="col-3">
                                <span>Validated: </span>
                                <span class="square" style="background:greenyellow"></span>
                            </div>
                            <div class="col-3">
                                <span>Input Needed: </span>
                                <span class="square" style="background:yellow"></span>
                            </div>
                            <div class="col-3">
                                <span>Duplicate Found: </span>
                                <span class="square" style="background:blue"></span>
                            </div>
                        </div>
                        <!-- Table -->
                        <div class="pre-scrollable">
                            <table class="table table-hover table-sm">
                                <thead class="thead-light">
                                    <th>#</th>
                                    <th>Outer Area</th>
                                    <th>Inner Area</th>
                                    <th>Climb</th>
                                    <th>Climb_Type</th>
                                    <th>Grade</th>
                                    <th>Status</th>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <!-- Summary -->
    <div id="summary" style="display: none"></div>
{% endblock %}
{% block scripts %}
    <!-- CSV Reader -->
    <script src="{{url_for('static', filename='javascript/massimport.js')}}"></script>
{% endblock %}